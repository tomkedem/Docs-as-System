<style>
body {
  direction: rtl;
  text-align: right;
}
.markdown-body {
  direction: rtl;
  text-align: right;
}
h1, h2, h3, h4, h5, h6 {
  text-align: right;
}
p, li, blockquote {
  text-align: right;
}
table {
  direction: rtl;
  text-align: right;
}
th, td {
  text-align: right;
}
</style>

<div dir="rtl" style="text-align: right;">

# אפיון לוגי (Logical Specification)

**מסמך:** `PROJECT_SPEC.md`  
**יוצר:** סוכן AI (בהנחיה מדויקת של האדם)  
**מאשר:** אדם (מנהל מוצר / ארכיטקט / Tech Lead)  
**סוג אפיון:** אפיון לוגי  

---

## הערת פתיח – שימוש אוניברסלי

מסמך זה הוא חלק ממערך תבניות גנרי של **Docs-as-System**,  
ומשמש בסיס לתיעוד, בקרה ופיתוח בכל תחום תוכנה –  
Web, Mobile, Backend, Cloud, Data, AI, Embedded או Multi-Agent.  

הוא מניח מודל עבודה שבו הסוכן (AI) הוא המבצע בפועל  
והאדם הוא בעל הסמכות, האישור והבקרה.  
הסוכן פועל תחת מדיניות מתועדת, מתעד כל פעולה,  
ומבצע Commits מקומיים בלבד במערכת ניהול גרסאות (Git או דומה).  
האדם מאשר את השינויים ומבצע את ה-Merge הסופי.  

**עקרון היסוד:**  
הסוכן מיישם → האדם מאשר → Git שומר את האמת.  

---

## מטרת המסמך

מסמך זה מתרגם את הדרישות העסקיות ל-"מה" שהמערכת עושה בפועל.  
הוא מתאר את ההתנהגות הלוגית של המערכת מנקודת מבט המשתמשים והמערכות החיצוניות.  
אין בו החלטות טכניות – רק הגדרת תהליכים, תרחישים, זרימות וקלטים/פלטים.  
זהו הגשר שבין הצורך העסקי לארכיטקטורה הטכנית.  

---

## תקציר כללי

תיאור קצר וברור של הפתרון המוצע:  
מה המערכת עושה, למי היא נועדה, ואיך היא עונה על הדרישות העסקיות שהוגדרו בשלב 1.  

_(למילוי ע"י אדם או AI בהנחיית אדם)_  

---

## שחקנים (Actors)

כל גורם שמתקשר עם המערכת – משתמש אנושי, מערכת חיצונית, סוכן AI, API אחר וכו׳.

| שם השחקן | סוג | תיאור התפקיד | אינטראקציה עם המערכת |
|------------|------|----------------|-------------------------|
| (למילוי) | (אנושי/מערכת/סוכן AI) | (למילוי) | (קלט/פלט/שניהם) |

---

## תרחישים עיקריים (Use Cases)

תיאור תהליכים עיקריים כפי שמשתמש או מערכת חיצונית חווים אותם.  

**מבנה מומלץ לכל Use Case:**

- **שם:** (למילוי)  
- **שחקנים:** (למילוי)  
- **מטרה:** (מה השחקן מנסה להשיג)  
- **תהליך בסיסי:**  
  1. (צעד ראשון)  
  2. (צעד שני)  
  3. (תוצאה צפויה)  
- **תרחישי חריגים:** (אם נכשלת פעולה מסוימת – מה קורה?)  
- **תנאי הצלחה:** (מתי נחשב שהתרחיש הושלם בהצלחה?)  

---

## תרשים זרימת נתונים (Logical Data Flow)

תיאור הזרימה הכללית של מידע בין גורמים במערכת.  
ניתן להוסיף דיאגרמת זרימה גרפית או טקסטואלית.  

**מבנה מומלץ:**  
מקור נתונים ← נקודת קליטה ← עיבוד לוגי ← יעד נתונים ← הודעה / תוצאה.  

**דוגמה:**  
לקוח שולח בקשה ← Web API מקבל ← Validation ← שמירה ב-DB ← שליחת אישור.  

---

## מבנה נתונים לוגי (Data Schema – Logical Level)

תיאור ישויות עיקריות, מאפיינים וקשרים ביניהן, ללא פירוט טכני (ללא SQL או שמות שדות אמיתיים).

| ישות | תיאור | שדות עיקריים | קשרים לישויות אחרות |
|--------|----------|----------------|----------------------------|
| (למילוי) | (למילוי) | (למילוי) | (למילוי) |

---

## אירועים ותנאים (Events & Conditions)

תיאור האירועים המרכזיים במערכת ומה קורה בעקבותיהם.

| אירוע | גורם מפעיל | תגובה לוגית | תוצאה צפויה |
|---------|--------------|----------------|----------------|
| (למילוי) | (למילוי) | (למילוי) | (למילוי) |

---

## כללים עסקיים (Business Rules)

מערכת הכללים שמנחה את ההתנהגות של המערכת.

| מזהה כלל | תיאור הכלל | תנאי הפעלה | הערות |
|------------|---------------|----------------|----------|
| BR-001 | (למילוי) | (למילוי) | (למילוי) |
| BR-002 | (למילוי) | (למילוי) | (למילוי) |

---

## תנאי קצה וחריגות (Edge Cases & Exceptions)

כל התרחישים הלא-שגרתיים שיכולים לשבור את הזרימה הרגילה.

- (למילוי – לדוגמה: “הודעה מגיעה פעמיים”, “נתון חסר”, “Timeout ממערכת חיצונית”)  
- (למילוי – איך המערכת אמורה להגיב בכל מקרה)

---

## דרישות לא תפקודיות (Non-Functional Requirements)

דרישות כלליות שלא קשורות ללוגיקה עסקית אלא לאופן הפעולה.

| קטגוריה | תיאור דרישה | מדד הצלחה |
|-----------|-----------------|----------------|
| ביצועים | (למילוי – לדוגמה: זמן תגובה ≤ 2 שניות) | (מדד) |
| אבטחה | (למילוי – אימות, הצפנה, הרשאות) | (מדד) |
| נגישות | (למילוי – רמות תמיכה, שפות) | (מדד) |
| תאימות | (למילוי – מערכות חיצוניות / רגולציה) | (מדד) |

---

## אינטגרציות וממשקים (Interfaces & External Systems)

פירוט הממשקים בין המערכת לבין מערכות אחרות (אם קיימות).

| מערכת / שירות | סוג ממשק | כיוון תקשורת | תדירות / טריגר |
|----------------|-------------|----------------|--------------------|
| (למילוי) | (API / Queue / Webhook וכו׳) | (Inbound / Outbound) | (למילוי) |

---

## הנחות ואילוצים (Assumptions & Constraints)

**הנחות:**  
- (למילוי)

**אילוצים:**  
- (למילוי – לדוגמה: “לא תתבצע אינטגרציה בזמן אמת עם מערכת X”)

---

## מדדי הצלחה (Validation Criteria)

תנאים שצריכים להתקיים כדי לומר שהמערכת עומדת בהגדרה הלוגית שלה.

| תחום | מדד הצלחה | אופן מדידה |
|--------|----------------|------------------|
| חוויית משתמש | (למילוי) | (למילוי) |
| עיבוד נתונים | (למילוי) | (למילוי) |
| עקביות נתונים | (למילוי) | (למילוי) |

---

## תוספת ייחודית לפרויקטים עם סוכן (Human–Agent Logic)

אם המערכת כוללת רכיב סוכן (AI), יש להגדיר את האינטראקציה הלוגית:

- מתי הסוכן מופעל ומה הטריגר להפעלתו.  
- מהי רמת האוטונומיה שלו (הצעה / ביצוע בפועל / ניתוח בלבד).  
- איך הוא מעביר נתונים לאדם או למערכת אחרת.  
- אילו פעולות דורשות אישור אנושי.  

**דוגמה:**  
כאשר מתקבל אירוע חריג ב-DLQ, הסוכן מייצר דו"ח הצעה לתיקון אך אינו משנה קוד.

---

## סיכום

מסמך זה מתאר את מה שהמערכת אמורה לעשות, ללא פרטים טכניים.  
הוא מהווה את נקודת המעבר מהתכנון העסקי (שלב 1) לאפיון הטכני (שלב 3).  
המידע בו משמש את הארכיטקט לקביעת מבנה השכבות, הטכנולוגיות וה-APIs.

---

## תוצר צפוי

מסמך שלם וברור שניתן להבין ממנו את ההתנהגות הלוגית של המערכת,  
כולל זרימות, תהליכים, כללים ותגובות לכל מצב  
כך שכל מפתח או סוכן ידע מה עליו לבנות לפני שדנים ב-"איך".

---

## עקרון משותף לכל התבניות

כל מסמך בפרויקט המתועד הוא חוליה בשרשרת אחידה:  
מהכוונה העסקית (Business) ← דרך ההגדרה הלוגית (Spec) ←  
דרך המבנה הטכני (Blueprint) ← ועד לתכנון, יישום ובדיקות (Plan, Log, Validation).  

הסוכן מבצע, מתעד ומדווח.  
האדם מגדיר, בוחן ומאשר.  
והמערכת נבנית ומתוחזקת מתוך **תיעוד חי אחד** – מאוחסן ונשלט ב-Git.  

---

© 2025 תומר קדם. חלק ממערך התבניות הרשמי של **Docs-as-System**.

</div>
