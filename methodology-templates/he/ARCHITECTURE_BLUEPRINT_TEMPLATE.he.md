<style>
body {
  direction: rtl;
  text-align: right;
}
.markdown-body {
  direction: rtl;
  text-align: right;
}
h1, h2, h3, h4, h5, h6 {
  text-align: right;
}
p, li, blockquote {
  text-align: right;
}
table {
  direction: rtl;
  text-align: right;
}
th, td {
  text-align: right;
}
</style>

<div dir="rtl" style="text-align: right;">

# אפיון טכני (Technical Architecture Blueprint)

**מסמך:** `ARCHITECTURE_BLUEPRINT.md`  
**יוצר:** סוכן AI (בהנחיה מדויקת של האדם)  
**מאשר:** אדם (ארכיטקט / Tech Lead)  
**סוג אפיון:** אפיון טכני  

---

## הערת פתיח – שימוש אוניברסלי

מסמך זה הוא חלק ממערך תבניות גנרי של **™Docs-as-System**,  
ומשמש בסיס לתיעוד, בקרה ופיתוח בכל תחום תוכנה –  
Web, Mobile, Backend, Cloud, Data, AI, Embedded או Multi-Agent.  

הוא מניח מודל עבודה שבו הסוכן (AI) הוא המבצע בפועל  
והאדם הוא בעל הסמכות, האישור והבקרה.  
הסוכן פועל תחת מדיניות מתועדת, מתעד כל פעולה,  
ומבצע Commits מקומיים בלבד במערכת ניהול גרסאות (Git או דומה).  
האדם מאשר את השינויים ומבצע את ה-Merge הסופי.  

**עקרון היסוד:**  
הסוכן מיישם → האדם מאשר → Git שומר את האמת.  

---

## מטרת המסמך

מסמך זה מתרגם את הדרישות והתרחישים מהאפיון הלוגי (`PROJECT_SPEC`)  
למימוש טכנולוגי בפועל.  
הוא מגדיר כיצד המערכת תיבנה:  
באילו שכבות, אילו טכנולוגיות ישמשו לפיתוח,  
וכיצד יתבצעו תקשורת, אבטחה, ניטור ותחזוקה.  

---

## מבנה כללי של המערכת (System Overview)

תיאור כללי של רכיבי הליבה במערכת והקשרים ביניהם.  

**מבנה מומלץ:**

- שכבת ממשק (Frontend / API)  
- שכבת לוגיקה עסקית (Application / Services)  
- שכבת דומיין (Domain / Business Rules)  
- שכבת נתונים (Persistence / Data Layer)  
- רכיבי תקשורת (Messaging / Events / Webhooks)  
- שירותי אינטגרציה חיצוניים  
- כלים תומכים (Monitoring / CI/CD / Agents)  

_(למילוי ע"י הארכיטקט בעזרת AI להפקת תרשים או מיפוי ראשוני)_  

---

## שכבות ותפקידים (Layered Architecture)

| שכבה | תיאור כללי | אחריות עיקרית | דוגמת טכנולוגיות | מעורבות AI |
|--------|----------------|------------------|--------------------|--------------|
| Presentation | ממשקי משתמש ו-APIs חיצוניים | חשיפת שירותים ומידע | Angular / React / Blazor / REST API | סקירת Endpoints |
| Application | לוגיקת תהליכים עסקיים | ניהול זרימות ובקרות | Service Layer / Controllers | ניתוח תרשימים |
| Domain | ישויות וחוקי ליבה עסקיים | שמירה על עקביות ו-Idempotency | Domain Models / Rules Engine | הצלבת כללים |
| Infrastructure | תשתיות תקשורת, אחסון ו-Messaging | אינטגרציה עם DB ו-Queues | SQL / NoSQL / Kafka / RabbitMQ | בדיקות קונפיגורציה |

---

## בחירת טכנולוגיות (Technology Stack)

פירוט סביבת העבודה, הכלים והרכיבים שבהם נעשה שימוש בפרויקט.  
הרשימה הבאה היא דוגמה בלבד – יש למלא בהתאם לטכנולוגיות שבהן משתמשים בפועל.

| תחום | טכנולוגיה נבחרת (לדוגמה) | נימוק / שיקולים אפשריים | אחריות |
|--------|-----------------------------|-------------------------------|------------|
| Backend | .NET / Java / Node.js / Python | בהתאם לאופי המערכת (Enterprise / Cloud / ML) | אדם |
| Messaging | RabbitMQ / Kafka / SQS | נבחר לפי נפח אירועים, דרישות SLA ואמינות | סוכן מסייע בבדיקת קונפיגורציה |
| Database | SQL / NoSQL / Graph / Document | בהתאם לדפוסי הנתונים ודרישות טרנזקציונליות | אדם |
| Frontend | Angular / React / Blazor / Vue | לפי סוג הממשק ודרישות חוויית משתמש | סוכן מסייע בבדיקת APIs |
| Infrastructure | On-Prem / Cloud / Hybrid | לפי מדיניות אבטחה, תקציב ורגולציה | אדם |
| Integration | REST / gRPC / Webhook / Event-Driven | לפי תדירות וסוג אינטראקציה בין מערכות | סוכן מסייע באימות עקביות |

> **הערה:** הטכנולוגיות שלעיל מוצגות להמחשה בלבד.  
> כל ארכיטקט נדרש לבחור את הסטאק המתאים לפרויקט,  
> וה-AI משמש תומך בבדיקת תאימות ויציבות.  

---

## APIs וחוזים (API Contracts)

תיעוד כל נקודות החשיפה של המערכת.  

| שם API | תיאור כללי | סוג פעולה | קלט (Request) | פלט (Response) | אישור אנושי |
|-----------|----------------|----------------|----------------|----------------|----------------|
| (למילוי) | (למילוי) | GET / POST / PUT | (Schema) | (Example) | (למילוי) |

> הסוכן מסייע בבדיקת אחידות שמות, סכימות ולוגים.  
> כל שינוי חוזה מחייב אישור אנושי.  

---

## צרכנים (Consumers)

תיאור כל רכיב שמאזין לאירועים (Message Consumers),  
כולל לוגיקת עיבוד, פעולות במסד הנתונים, ומדיניות Idempotency.  

| שם הצרכן | מקור הודעה | פעולות עיקריות | עדכון DB | הערות |
|-------------|----------------|----------------|--------------|------------|
| (למילוי) | (Queue / Topic) | (למילוי) | (כן/לא) | (למילוי) |

> הסוכן יכול לייצר טיוטת טבלת Consumers אוטומטית לפי הסכמות.  

---

## זרימות נתונים (Data Flow)

תרשים או תיאור טקסטואלי של תנועת המידע במערכת:  
קלט ← תור ← צרכן ← DB ← תגובה למשתמש.  

> ה-AI מסייע בזיהוי צווארי בקבוק או לולאות אפשריות.  

---

## אבטחה ו-Access Control

- גישה למערכת מתבצעת דרך ממשקים מאובטחים בלבד.  
- הסוכן אינו שומר סיסמאות או מפתחות גולמיים.  
- אימות מבוסס Identity Provider ארגוני.  
- כל גישה מתועדת עם מזהה Trace אנושי–מכונתי.  

---

## מדיניות ניטור ולוגים (Observability)

- לוגים אחידים בפורמט Structured JSON.  
- לכל פעולה יש TraceId אחיד בין אדם–סוכן–מערכת.  
- הסוכן מנתח לוגים ומציע דוחות חריגות תקופתיים.  
- התראות (Alerts) נוצרות אוטומטית לסקירה אנושית.  

---

## מדיניות פיתוח ופריסה (DevOps & Deployment)

- CI/CD מנוהל ע"י אדם,  
  אך הסוכן מוודא שה-Pipelines מעודכנים ונבדקים.  
- בדיקות Self-Check לפני Merge או Release.  
- ניהול גרסאות לפי SemVer.  
- Rollback Scripts נוצרים אוטומטית ע"י הסוכן ומאושרים אנושית.  

---

## עקרונות איכות ו-Scalability

- מערכת ניתנת להרחבה אופקית (Scale-Out).  
- שימוש ב-Retry ו-DLQ לטיפול בכשלים.  
- תיעוד אוטומטי של ביצועים.  
- ביקורת אנושית קבועה על Bottlenecks קריטיים.  

---

## סיכום

שלב זה מגדיר **איך המערכת תיבנה בפועל**:  
באילו טכנולוגיות, באילו שכבות,  
ואיך נשמרת שליטה אנושית על תהליך שבו  
הסוכן מסייע בבנייה, בבדיקה ובתיעוד.  

המסמך משמש בסיס להמשך:  
שלב 4 – `COMPLIANCE_POLICY.md` (מדיניות וסטנדרטים).  

---

© 2025 תומר קדם. חלק ממערך התבניות הרשמי של **™Docs-as-System**.

</div>
